## 1、堆的应用

### 1、优先级队列

```
优先级队列，顾名思义，它首先应该是一个队列，我们前面讲过，队列最大的特性就是先进先出。不过，在优先级队列中，数据的出队顺序不是先进先出，而是按照优先级来，优先级最高的，最先出队。
```

#### 1、合并有序的小文件

```
假设我们有 100 个小文件，每个文件的大小是 100MB,每个文件存储的都是有序的字符串。我们希望将这些 100 个小文件合并成一个有序的大文件。这里就会用到优先级队列。
```

```
整体思路有点像归并排序中的合并函数。我们从这 100 个文件中，各取第一个字符串，放入数组中，然后比较大小，把最小的那个字符串放入合并后的大文件中，并从数组中删除。
```

```
假设，这个最小的字符串来自于 13.txt 这个小文件，我们就再从这个小文件取下一个字符串，并且放到数组中，重新比较大小，并且选择最小的放入合并后的大文件，并且将它从数组中删除。依次类推。直到所有的文件中的数据都放入到大文件为止。并从数组中删除。

假设，这个最小的字符串来自 13.txt 这个小文件，我们就在从这个小文件取下一个字符串，并且放到数组中，重新比较大小，并且选择最小的放入合并后的大文件，并且将它从数组中删除。依次类推，直到所有的文件中的数据都放入到大文件为止。
```

```
这里我们用数组这种数据结构，来存储从小文件取出来的字符串。每次从数组中取最小字符串，都需要遍历整个数组，显然，这不是很高效。
数组第一次需要排序是 O(nlogn) 二分查找是 O(logn) 但是 插入数据的时候需要先查找 O(logn) 需要移动O(n);
而堆每次只需要 O(logn)就好了； 建立推需要 O(n)

数组插入需要 O(logn) + O(n)
堆需要 O(logn) 
```

```
这里就可以用到优先级队列，也可以说是堆。我们将从小文件中取出来的字符串放入到小顶堆中，那堆顶的元素，也就是优先队列队首的元素，就是最小字符串。我们将这个字符串放入到大文件中，并将其从堆中删除。然后再从小文件中取出下一个字符串，放入堆中。循环这个过程，就可以将 100 个小文件中的数据依次放入到大文件中.
```

#### 2、高性能定时器







